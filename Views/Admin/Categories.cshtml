@model List<ETicaret.Models.Category>
@{
    ViewData["Title"] = "Kategori Listesi";
}

<div class="container mt-4">
    <h2>Kategori Listesi</h2>

    <a href="/Admin/CreateCategory" class="btn btn-success mb-3">Yeni Kategori Ekle</a>

    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Ad</th>
                <th>Ürün Sayısı</th>
                <th>İşlemler</th>
            </tr>
        </thead>
        <tbody>
        @foreach (var category in Model)
        {
            <tr>
                <td>@category.Name</td>
                <td>@(category.Products?.Count ?? 0)</td>
                <td>
                    <a href="/Admin/EditCategory/@category.Id" class="btn btn-sm btn-warning me-2">Düzenle</a>

                    <form asp-action="DeleteCategory" method="post" class="d-inline" onsubmit="return confirm('Bu kategoriyi silmek istediğinize emin misiniz?');">
                        <input type="hidden" name="id" value="@category.Id" />
                        <button type="submit" class="btn btn-sm btn-danger">Sil</button>    
                    </form>
                </td>

            </tr>
        }
        </tbody>
    </table>
</div>
