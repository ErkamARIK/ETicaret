@model List<ETicaret.Models.Product>

@{
    ViewData["Title"] = ViewBag.CategoryName + " Ürünleri";
}

<style>
    .product-card-img {
        width: 100%;
        height: 200px;
        object-fit: contain;
        background-color: #f8f9fa;
        border-bottom: 1px solid #ddd;
        padding: 10px;
    }
</style>

<div class="container mt-5">
    <h2 class="mb-4">@ViewBag.CategoryName Size Özel Ürünler</h2>

    @if (!Model.Any())
    {
        <p>Bu kategoriye ait ürün bulunamadı.</p>
    }
    else
    {
        <div class="row row-cols-1 row-cols-md-3 g-4">
            @foreach (var product in Model)
            {
                <div class="col">
                    <a href="/Product/Details/@product.Id" style="text-decoration: none; color: inherit;">
                        <div class="card h-100">
                            <img src="@product.ImageUrl" class="product-card-img" alt="@product.Name" />
                            <div class="card-body">
                                <h5 class="card-title">@product.Name</h5>
                                <p>@(product.Description.Length > 100 ? product.Description.Substring(0, 100) + "..." : product.Description)</p>
                                <p class="card-text text-primary">@product.Price ₺</p>
                                <form asp-controller="Cart" asp-action="AddToCart" method="post">
                                    <input type="hidden" name="id" value="@product.Id" />
                                    <button type="submit" class="btn btn-primary mt-2">Sepete Ekle</button>
                                </form>
                            </div>
                        </div>
                    </a>
                </div>
            }
        </div>
    }
</div>
